<Macro FreedomBoxTLSSiteMacro $domain>
    <IfModule mod_gnutls.c>
        <VirtualHost _default_:443>
            ServerAdmin webmaster@localhost
            ServerName $domain
            DocumentRoot /var/www/html

            ErrorLog ${APACHE_LOG_DIR}/error.log
            CustomLog ${APACHE_LOG_DIR}/ssl_access.log combined

            GnuTLSEnable On
            # Automatically obtained certificates from Let's Encrypt
            GnuTLSCertificateFile /etc/letsencrypt/live/$domain/fullchain.pem
            GnuTLSKeyFile /etc/letsencrypt/live/$domain/privkey.pem
            # See http://www.outoforder.cc/projects/apache/mod_gnutls/docs/#GnuTLSPriorities
            GnuTLSPriorities NORMAL
        </VirtualHost>
    </IfModule>
</Macro>
